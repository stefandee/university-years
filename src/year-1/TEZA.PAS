program  teza;
uses graph,crt;
const delstring:string='                          ';
var gd,gm,i:integer;
    xasp,yasp:word;
    f:text;
    txt:string;
    j:array[1..2] of word;
procedure smile1;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,40,20);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,40,20);
end;
procedure smile2;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,20,40);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,20,40);
end;
procedure smile3;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,30,10);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,30,10);
end;
procedure smile4;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,40,10);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,40,10);
end;
procedure smile5;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,30,20);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,30,20);
end;
procedure lastsmile;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+70,0,180,50,50);
delay(2000);
halt;
end;
procedure smile6;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,35,20);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,35,20);
end;
procedure smile7;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,35,15);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,35,15);
end;
procedure smile8;
begin
setcolor(red);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,25,15);
delay(600);
setcolor(black);
ellipse((getmaxx div 2),(getmaxy div 2)+40,0,360,25,15);
end;
label jump,cont;
BEGIN
gd:=detect;
initgraph(gd,gm,'');
setcolor(yellow);
ellipse(getmaxx div 2,getmaxy div 2,0,360,100,120);
setcolor(magenta);
arc((getmaxx div 2)-30,(getmaxy div 2)-119,0,120,30);
arc((getmaxx div 2)+30,(getmaxy div 2)-119,60,180,30);
moveto(getmaxx div 2,(getmaxy div 2)-120);
linerel(0,-30);
setcolor(lightgray);
moveto(getmaxx div 2,(getmaxy div 2)-20);
linerel(10,19);
linerel(-19,0);
linerel(10,-19);
setcolor(lightblue);
moveto((getmaxx div 2)+101,(getmaxy div 2)+50);
linerel(17,-100);
linerel(100,0);
linerel(0,50);
linerel(-80,0);
lineto((getmaxx div 2)+101,(getmaxy div 2)+50);
setcolor(blue);
circle((getmaxx div 2)-40,(getmaxy div 2)-30,20);
circle((getmaxx div 2)+40,(getmaxy div 2)-30,20);
setfillstyle(solidfill,blue);
floodfill((getmaxx div 2)-40,(getmaxy div 2)-30,blue);
floodfill((getmaxx div 2)+40,(getmaxy div 2)-30,blue);
setcolor(red);
arc((getmaxx div 2),(getmaxy div 2)+40,180,360,50);
assign(f,'a:\my_progr\speech.dat');
reset(f);
delay(2000);
setcolor(0);
arc((getmaxx div 2),(getmaxy div 2)+40,180,360,50);
randomize;
cont:for i:=1 to 58 do begin
readln(f,txt);
setcolor(green);
outtextxy((getmaxx div 2)+120,(getmaxx div 2)-100,txt);
jump:j[1]:=random(8);
if j[2]=j[1] then goto jump;
j[2]:=j[1];
if j[1]=0 then smile1;
if j[1]=3 then smile2;
if j[1]=1 then smile3;
if j[1]=4 then smile4;
if j[1]=2 then smile5;
if j[1]=5 then smile6;
if j[1]=6 then smile7;
if j[1]=7 then smile8;
if keypressed then if readkey=#13 then lastsmile;
setcolor(0);
outtextxy((getmaxx div 2)+120,(getmaxx div 2)-100,txt);
end;
close(f);
reset(f);
goto cont;
readln;
END.